# æ™ºèƒ½å¤ä¹ é‡æ–°è°ƒåº¦ç³»ç»Ÿ

## ðŸŽ¯ åŠŸèƒ½

è¿™ä¸ªè„šæœ¬å¯ä»¥å¸®ä½ è§£å†³**æ¯å¤©å¤ä¹ æ•°é‡æ³¢åŠ¨å¤§**çš„é—®é¢˜ã€‚å®ƒä¼šï¼š

1. ðŸ“Š åˆ†æžæœªæ¥Nå¤©çš„å¤ä¹ è´Ÿè½½åˆ†å¸ƒ
2. ðŸ” è¯†åˆ«è´Ÿè½½ä¸å‡çš„å¤©æ•°ï¼ˆé«˜å³°å’Œä½Žè°·ï¼‰
3. âš–ï¸ è‡ªåŠ¨é‡æ–°åˆ†é…å¤ä¹ æ—¥æœŸï¼Œè®©æ¯å¤©çš„å¤ä¹ æ•°é‡æ›´ç¨³å®š
4. ðŸ›¡ï¸ ä¿æŒåœ¨åˆç†çš„è°ƒæ•´èŒƒå›´å†…ï¼Œä¸ç ´åé—´éš”é‡å¤ç®—æ³•ï¼ˆSRSï¼‰

## ðŸ“‹ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

```bash
# æ¨¡æ‹Ÿè¿è¡Œï¼ˆæŽ¨èå…ˆç”¨è¿™ä¸ªçœ‹çœ‹æ•ˆæžœï¼‰
node scripts/rebalance-reviews.js --dry-run

# å®žé™…æ‰§è¡Œ
node scripts/rebalance-reviews.js
```

### é«˜çº§é€‰é¡¹

```bash
# åˆ†æžæœªæ¥21å¤©çš„å¤ä¹ åˆ†å¸ƒ
node scripts/rebalance-reviews.js --days=21

# è®¾ç½®ç›®æ ‡æ¯æ—¥å¤ä¹ æ•°ä¸º100
node scripts/rebalance-reviews.js --target=100

# é™åˆ¶æœ€å¤§è°ƒæ•´èŒƒå›´ä¸º3å¤©ï¼ˆæ›´ä¿å®ˆï¼‰
node scripts/rebalance-reviews.js --max-shift=3

# ç»„åˆä½¿ç”¨
node scripts/rebalance-reviews.js --days=21 --target=100 --max-shift=5 --dry-run
```

### å‚æ•°è¯´æ˜Ž

| å‚æ•° | è¯´æ˜Ž | é»˜è®¤å€¼ |
|------|------|--------|
| `--days=N` | åˆ†æžæœªæ¥Nå¤©çš„å¤ä¹ åˆ†å¸ƒ | 14å¤© |
| `--target=N` | ç›®æ ‡æ¯æ—¥å¤ä¹ æ•° | ä»Žè®¾ç½®è¯»å– |
| `--max-shift=N` | æœ€å¤§è°ƒæ•´å¤©æ•°ï¼ˆÂ±Nå¤©ï¼‰ | 7å¤© |
| `--dry-run` | æ¨¡æ‹Ÿè¿è¡Œï¼Œä¸å®žé™…ä¿®æ”¹æ•°æ®åº“ | - |

## ðŸ“Š è¾“å‡ºç¤ºä¾‹

```
ðŸ”„ æ™ºèƒ½é‡æ–°è°ƒåº¦ç³»ç»Ÿ

é…ç½®:
  åˆ†æžå¤©æ•°: 14 å¤©
  æœ€å¤§è°ƒæ•´: Â±7 å¤©
  æ¨¡å¼: æ¨¡æ‹Ÿè¿è¡Œ
  æ¯æ—¥ç›®æ ‡: 100 ä¸ª

ðŸ“Š åˆ†æžå½“å‰è´Ÿè½½...

å½“å‰åˆ†å¸ƒ:

2025-12-18:  45 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
2025-12-19: 150 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ðŸ”´
2025-12-20:  30 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ðŸ”µ
2025-12-21: 180 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ðŸ”´
2025-12-22:  55 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
2025-12-23:  90 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
...

ç»Ÿè®¡æ•°æ®ï¼ˆé‡æ–°è°ƒåº¦å‰ï¼‰:
  å¹³å‡å€¼: 92.1
  æœ€å¤§å€¼: 180
  æœ€å°å€¼: 30
  æ ‡å‡†å·®: 45.2
  æ³¢åŠ¨çŽ‡: 49.1%

ðŸ”§ æ‰§è¡Œé‡æ–°å¹³è¡¡...

é‡æ–°è°ƒåº¦åŽçš„åˆ†å¸ƒ:

2025-12-18:  45 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
2025-12-19:  95 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ -55
2025-12-20:  85 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ +55
2025-12-21: 105 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ -75
2025-12-22:  90 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ +35
2025-12-23: 100 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ +10
...

ç»Ÿè®¡æ•°æ®ï¼ˆé‡æ–°è°ƒåº¦åŽï¼‰:
  å¹³å‡å€¼: 92.1
  æœ€å¤§å€¼: 105
  æœ€å°å€¼: 85
  æ ‡å‡†å·®: 12.3
  æ³¢åŠ¨çŽ‡: 13.4%

æ”¹å–„æ•ˆæžœ:
  æœ€å¤§å€¼: 180 â†’ 105 (-75)
  æœ€å°å€¼: 30 â†’ 85 (+55)
  æ ‡å‡†å·®: 45.2 â†’ 12.3 (-72.8%)
  æ³¢åŠ¨çŽ‡: 49.1% â†’ 13.4%

ðŸ“‹ è®¡åˆ’è°ƒæ•´ 125 ä¸ªé¡¹ç›®:

1. 2025-12-19 â†’ 2025-12-20 (+1å¤©)
   åŽŸå› : è´Ÿè½½å‡è¡¡: 2025-12-19 (150) -> 2025-12-20

2. 2025-12-21 â†’ 2025-12-18 (-3å¤©)
   åŽŸå› : å¡«è¡¥ä½Žè°·: 2025-12-21 (180) -> 2025-12-18

...

âœ¨ å®Œæˆï¼
```

## ðŸ”„ å®šæœŸè¿è¡Œ

å»ºè®®æ¯å‘¨è¿è¡Œä¸€æ¬¡ï¼Œä¿æŒå¤ä¹ è´Ÿè½½å‡è¡¡ï¼š

### macOS/Linux

åˆ›å»º cron jobï¼š

```bash
# ç¼–è¾‘ crontab
crontab -e

# æ·»åŠ è¿™ä¸€è¡Œï¼ˆæ¯å‘¨æ—¥å‡Œæ™¨3ç‚¹è¿è¡Œï¼‰
0 3 * * 0 cd /path/to/my-english-tool && node scripts/rebalance-reviews.js
```

### Windows

åˆ›å»ºè®¡åˆ’ä»»åŠ¡ï¼š

1. æ‰“å¼€"ä»»åŠ¡è®¡åˆ’ç¨‹åº"
2. åˆ›å»ºåŸºæœ¬ä»»åŠ¡
3. è§¦å‘å™¨ï¼šæ¯å‘¨æ—¥å‡Œæ™¨3ç‚¹
4. æ“ä½œï¼šå¯åŠ¨ç¨‹åº
   - ç¨‹åºï¼š`node`
   - å‚æ•°ï¼š`scripts/rebalance-reviews.js`
   - èµ·å§‹äºŽï¼šé¡¹ç›®ç›®å½•è·¯å¾„

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡ä½¿ç”¨å»ºè®®**ï¼šå…ˆç”¨ `--dry-run` æ¨¡æ‹Ÿè¿è¡Œï¼ŒæŸ¥çœ‹æ•ˆæžœ
2. **è°ƒæ•´èŒƒå›´**ï¼šé»˜è®¤æœ€å¤§è°ƒæ•´Â±7å¤©ï¼Œå¦‚æžœè§‰å¾—å¤ªæ¿€è¿›å¯ä»¥ç”¨ `--max-shift=3`
3. **å¤‡ä»½æ•°æ®**ï¼šè™½ç„¶è„šæœ¬å¾ˆå®‰å…¨ï¼Œä½†å»ºè®®å…ˆå¤‡ä»½æ•°æ®åº“
4. **SRSç®—æ³•**ï¼šè„šæœ¬ä¼šä¿æŒSRSç®—æ³•çš„æ ¸å¿ƒé€»è¾‘ï¼Œåªåœ¨åˆç†èŒƒå›´å†…è°ƒæ•´æ—¥æœŸ
5. **ä¼˜å…ˆçº§ä¿æŠ¤**ï¼šä½Žé˜¶æ®µã€è¯„åˆ†å·®çš„å¡ç‰‡ä¼˜å…ˆçº§æ›´é«˜ï¼Œä¸å®¹æ˜“è¢«ç§»åŠ¨

## ðŸ¤ é…åˆä½¿ç”¨

è¿™ä¸ªè„šæœ¬å¯ä»¥é…åˆä»¥ä¸‹åŠŸèƒ½ä½¿ç”¨ï¼š

- **æ¯æ—¥å¤ä¹ ç›®æ ‡è®¾ç½®**ï¼šåœ¨Settingsé¡µé¢è®¾ç½®åˆé€‚çš„æ¯æ—¥ç›®æ ‡
- **å¤ä¹ æ¨¡å¼**ï¼šTodayæ¨¡å¼ï¼ˆå—daily_targeté™åˆ¶ï¼‰+ Backlogæ¨¡å¼ï¼ˆæ¸…ç†ç§¯åŽ‹ï¼‰
- **è¯„åˆ†ç³»ç»Ÿ**ï¼šå‡†ç¡®çš„è¯„åˆ†å¯ä»¥è®©SRSç®—æ³•æ›´å¥½åœ°å·¥ä½œ

## ðŸ’¡ å·¥ä½œåŽŸç†

### è´Ÿè½½å‡è¡¡ç­–ç•¥

1. **è¯†åˆ«é«˜å³°**ï¼šè´Ÿè½½ > ç›®æ ‡å€¼ Ã— 120% çš„å¤©æ•°
2. **è¯†åˆ«ä½Žè°·**ï¼šè´Ÿè½½ < ç›®æ ‡å€¼ Ã— 30% çš„å¤©æ•°
3. **æ™ºèƒ½è°ƒæ•´**ï¼š
   - ä»Žé«˜å³°å¤©ç§»å‡ºæœ€å¤š30%çš„é¡¹ç›®
   - å‘ä½Žè°·å¤©è¡¥å……é¡¹ç›®
   - ä¼˜å…ˆç§»åŠ¨ä½Žä¼˜å…ˆçº§é¡¹ç›®ï¼ˆé«˜é˜¶æ®µã€è¯„åˆ†å¥½çš„ï¼‰
   - ä¿æŠ¤é«˜ä¼˜å…ˆçº§é¡¹ç›®ï¼ˆä½Žé˜¶æ®µã€è¯„åˆ†å·®çš„ï¼‰

### ä¼˜å…ˆçº§è®¡ç®—

```
ä¼˜å…ˆçº§ = åŸºç¡€åˆ†(50)
       + (10 - å¤ä¹ é˜¶æ®µ) Ã— 5     // ä½Žé˜¶æ®µä¼˜å…ˆçº§é«˜
       + è¯„åˆ†å¥–åŠ±               // Forgot: +30, Hard: +20, Good: +10
       + è¿žç»­Hardæ¬¡æ•° Ã— 5        // è¿žç»­Hardçš„ä¼˜å…ˆçº§é«˜
```

ä¼˜å…ˆçº§è¶Šé«˜çš„é¡¹ç›®ï¼Œè¶Šä¸å®¹æ˜“è¢«ç§»åŠ¨ã€‚

## ðŸ› é—®é¢˜æŽ’æŸ¥

### è„šæœ¬è¿è¡Œå¤±è´¥

1. æ£€æŸ¥çŽ¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®é…ç½®ï¼ˆ.env.localï¼‰
2. ç¡®è®¤æ•°æ®åº“è¿žæŽ¥æ­£å¸¸
3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—

### æ•ˆæžœä¸æ˜Žæ˜¾

1. æ£€æŸ¥æ•°æ®é‡æ˜¯å¦è¶³å¤Ÿï¼ˆè‡³å°‘50+ä¸ªå•è¯ï¼‰
2. å¢žåŠ  `--days` å‚æ•°ï¼ˆæ¯”å¦‚21å¤©ï¼‰
3. å‡å° `--max-shift` å‚æ•°ï¼ˆæ¯”å¦‚3å¤©ï¼‰

### æƒ³æ¢å¤åŽŸçŠ¶

è„šæœ¬ä¼šè®°å½•è°ƒæ•´è¯¦æƒ…ï¼Œä½†ä¸ä¼šè‡ªåŠ¨å¤‡ä»½ã€‚å»ºè®®ï¼š
1. é¦–æ¬¡ä½¿ç”¨å‰å¤‡ä»½æ•°æ®åº“
2. ä½¿ç”¨ `--dry-run` å…ˆæŸ¥çœ‹æ•ˆæžœ
